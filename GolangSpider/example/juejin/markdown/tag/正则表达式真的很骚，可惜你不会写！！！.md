# 正则表达式真的很骚，可惜你不会写！！！ #

![](https://user-gold-cdn.xitu.io/2018/9/11/165c4850cc10de88?imageView2/0/w/1280/h/960/ignore-error/1)

本文旨在用最通俗的语言讲述最枯燥的基本知识

> 
> 
> 
> 文章提纲：
> 
> * 元字符
> * 重复限定符
> * 分组
> * 转义
> * 条件或
> * 区间
> 

正则表达式在几乎所有语言中都可以使用，无论是前端的JavaScript、还是后端的Java、c#。他们都提供相应的接口/函数支持正则表达式。

但很神奇的是： **无论你大学选择哪一门计算机语言，都没有关于正则表达式的课程给你修，在你学会正则之前，你只能看着那些正则大师们，写了一串外星文似的字符串，替代了你用一大篇幅的if else代码来做一些内容校验** 。

既然喜欢，那就动手学呗，可当你百度出一一堆相关资料时，你发现无一不例外的枯燥至极，难以学习（实话说，当年不理君也是这样的心态😂😂）。

下面，不理君尝试用一种比较通俗点的方式讲一下正则，让你能在读完之后，自己写出一些简单的正则，再不济，能看到别人写的正则，那也不错了。

### 1.元字符 ###

万物皆有源，正则也是如此，元字符是构造正则表达式的一种基本元素。
我们先来记几个常用的元字符：

+--------+------------------------------+
| 元字符 |             说明             |
+--------+------------------------------+
| .      | 匹配除换行符以外的任意字符   |
| \w     | 匹配字母或数字或下划线或汉字 |
| \s     | 匹配任意的空白符             |
| \d     | 匹配数字                     |
| \b     | 匹配单词的开始或结束         |
| ^      | 匹配字符串的开始             |
| $      | 匹配字符串的结束             |
+--------+------------------------------+

有了元字符之后，我们就可以利用这些元字符来写一些简单的正则表达式了，
比如：

* 匹配有abc开头的字符串：
` 1 \babc或者^abc
复制代码` * 匹配8位数字的QQ号码：
` 1 ^\d\d\d\d\d\d\d\d$
复制代码` * 匹配1开头11位数字的手机号码：
` 1 ^ 1 \d\d\d\d\d\d\d\d\d\d$
复制代码`

### 2. 重复限定符 ###

有了元字符就可以写不少的正则表达式了，但细心的你们可能会发现：别人写的正则简洁明了，而不理君写的正则一堆乱七八糟而且重复的元字符组成的。正则没提供办法处理这些重复的元字符吗？

答案是有的！
为了处理这些重复问题，正则表达式中一些重复限定符，把重复部分用合适的限定符替代，下面我们来看一些限定符：

+-------+------------------+
| 语法  |       说明       |
+-------+------------------+
| *     | 重复零次或更多次 |
| +     | 重复一次或更多次 |
| ?     | 重复零次或一次   |
| {n}   | 重复n次          |
| {n,}  | 重复n次或更多次  |
| {n,m} | 重复n到m次       |
+-------+------------------+

有了这些限定符之后，我们就可以对之前的正则表达式进行改造了，比如：

* 匹配8位数字的QQ号码：
` 1 ^\d{ 8 }$
复制代码` * 匹配1开头11位数字的手机号码：
` 1 ^ 1 \d{ 10 }$
复制代码` * 匹配银行卡号是14~18位的数字：
` 1 ^\d{ 14 , 18 }$
复制代码` * 匹配以a开头的，0个或多个b结尾的字符串
` 1 ^ab*$
复制代码`

### 3. 分组 ###

从上面的例子（4）中看到，*限定符是作用在与他左边最近的一个字符，那么问题来了，如果我想要ab同时被*限定那怎么办呢？

> 
> 
> 
> 正则表达式中用小括号()来做分组，也就是括号中的内容作为一个整体。
> 
> 

因此当我们要匹配多个ab时，我们可以这样
如：匹配字符串中包含0到多个ab开头：

` 1 ^(ab)*
复制代码`

### 4. 转义 ###

我们看到正则表达式用小括号来做分组，那么问题来了：

> 
> 
> 
> 如果要匹配的字符串中本身就包含小括号，那是不是冲突？应该怎么办？
> 
> 

针对这种情况，正则提供了转义的方式，也就是要把这些元字符、限定符或者关键字转义成普通的字符，做法很简答，就是在要转义的字符前面加个斜杠，也就是\即可。
如：要匹配以(ab)开头：

` 1 ^(\(ab\))*
复制代码`

### 5. 条件或 ###

回到我们刚才的手机号匹配，我们都知道：国内号码都来自三大网，它们都有属于自己的号段，比如联通有130/131/132/155/156/185/186/145/176等号段，假如让我们匹配一个联通的号码，那按照我们目前所学到的正则，应该无从下手的，因为这里包含了一些并列的条件，也就是“或”，那么在正则中是如何表示“或”的呢？

> 
> 
> 
> 正则用符号 | 来表示或，也叫做分支条件，当满足正则里的分支条件的任何一种条件时，都会当成是匹配成功。
> 
> 

那么我们就可以用或条件来处理这个问题

` 1 ^( 130 | 131 | 132 | 155 | 156 | 185 | 186 | 145 | 176 )\d{ 8 }$
复制代码`

### 6. 区间 ###

看到上面的例子，是不是看到有什么规律？是不是还有一种想要简化的冲动？
实际是有的

> 
> 
> 
> 正则提供一个元字符中括号 [] 来表示区间条件。
> 
> * 限定0到9 可以写成[0-9]
> * 限定A-Z 写成[A-Z]
> * 限定某些数字 [165]
> 

那上面的正则我们还改成这样：

` 1 ^(( 13 [ 0 - 2 ])|( 15 [ 56 ])|( 18 [ 5 - 6 ])| 145 | 176 )\d{ 8 }$
复制代码`

好了，正则表达式的基本用法就讲到这里了，其实它还有非常多的知识点以及元字符，我们在此只列举了部分元字符和语法来讲，旨在给那些不懂正则或者想学正则但有看不下去文档的人做一个快速入门级的教程，看完本教程，即使你不能写出高大上的正则，至少也能写一些简单的正则或者看得懂别人写的正则了，如果需要进阶学习，那就靠各位好好修炼啦。

觉得本文对你有帮助？请分享给更多人 关注「编程无界」，提升装逼技能

![](https://user-gold-cdn.xitu.io/2018/9/11/165c484a7309d0f5?imageView2/0/w/1280/h/960/ignore-error/1)